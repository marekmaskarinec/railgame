levelmenu.um
________________________________________________________________________________

________________________________________________________________________________


type SaveGame* = struct {
	sysPath: str
	name: str
	passed: int
}



________________________________________________________________________________


type MenuLevel* = struct {
	lvl: level.Level
	defaultSys: rail.System
	saves: []SaveGame
	saveDir: str
	ilist: itemlist.ItemList
	newBtn: ^label.Label
}



________________________________________________________________________________


type Dir* = struct {
	parent: ^Dir
	name: str
	dirs: []^Dir
	levels: []^MenuLevel
	items: []itemlist.Item
}



________________________________________________________________________________


fn getLevel(): ^MenuLevel


________________________________________________________________________________


fn (ml: ^MenuLevel) draw()


________________________________________________________________________________


fn (ml: ^MenuLevel) handle()


________________________________________________________________________________


fn loadSaves*(prefix: str, src: str): []SaveGame


________________________________________________________________________________


fn exportSaves*(saves: []SaveGame): str


________________________________________________________________________________


fn mkMenuLevel(prefix, path: str): ^MenuLevel


________________________________________________________________________________


fn loadDir*(prefix: str, src: str): ^Dir

Recursively loads directory

________________________________________________________________________________


fn reset*(from: int)


________________________________________________________________________________


fn handle*()


________________________________________________________________________________


fn draw*()


________________________________________________________________________________


fn init*()


________________________________________________________________________________


